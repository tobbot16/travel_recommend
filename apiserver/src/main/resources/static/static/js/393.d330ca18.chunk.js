"use strict";(self.webpackChunkmall=self.webpackChunkmall||[]).push([[393],{393:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var s=a(5043),n=a(5670),r=a(9111),l=a(5138),c=a(6907),i=a(561),o=a(579);const d={dtoList:[],pageNumList:[],pageRequestDTO:[],prev:!1,next:!1,totalCount:0,prevPage:0,nextPage:0,totalPage:0,current:0},m=c.i$;const x=function(e){const{moveToList:t,moveToRead:a,page:c,size:x,refresh:p}=(0,n.A)(),[u,g]=(0,s.useState)(d),[f,h]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{h(!0),(0,r.vS)({page:c,size:x}).then((e=>{console.log("\ud83d\udd25 page \uac12:",c),console.log("\ud83d\udd25 current \uac12:",u.current),g({...e,current:c}),h(!1)}))}),[c,x,p]),(0,o.jsxs)("div",{className:"border-2 border-blue-100 mt-10 mr-2 ml-2",children:[f?(0,o.jsx)(l.A,{}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)("div",{className:"flex flex-wrap mx-auto p-6",children:u.dtoList.map((e=>(0,o.jsx)("div",{className:"w-1/3 p-1 rounded shadow-md border-2",onClick:()=>a(e.pno),children:(0,o.jsxs)("div",{className:"flex flex-col h-full",children:[(0,o.jsx)("div",{className:"font-extrabold text-2xl p-2 w-full",children:e.pno}),(0,o.jsxs)("div",{className:"text-1xl m-1 p-2 w-full flex flex-col",children:[(0,o.jsx)("div",{className:"w-full overflow-hidden",children:(0,o.jsx)("img",{alt:"product",className:"m-auto rounded-md w-60",src:`${m}/api/products/view/s_${e.uploadedFileNames[0]}`})}),(0,o.jsxs)("div",{className:"bottom-0 font-extrabold bg-white",children:[(0,o.jsxs)("div",{className:"text-center p-1",children:["\uc774\ub984: ",e.pname]}),(0,o.jsxs)("div",{className:"text-center p-1",children:["\uac00\uaca9: ",e.price]})]})]})]})},e.pno)))}),(0,o.jsx)(i.A,{serverData:u,movePage:t})]})};const p=function(e){return(0,o.jsxs)("div",{className:"p-4 w-full bg-white",children:[(0,o.jsx)("div",{className:"text-3xl font-extrabold",children:"Products List Page"}),(0,o.jsx)(x,{})]})}},561:(e,t,a)=>{a.d(t,{A:()=>n});a(5043);var s=a(579);const n=function(e){let{serverData:t,movePage:a}=e;return(0,s.jsxs)("div",{className:"m-6 flex justify-center",children:[t.prev?(0,s.jsx)("button",{className:"m-2 p-2 w-16 text-center font-bold text-blue-400",onClick:()=>a({page:t.prevPage}),children:"Prev"}):(0,s.jsx)(s.Fragment,{}),t.pageNumList.map((e=>(0,s.jsx)("button",{className:"m-2 p-2 w-12 text-center rounded shadow-md text-white\n                    "+(t.current===e?"bg-gray-500":"bg-blue-400"),onClick:()=>a({page:e}),children:e},e))),t.next?(0,s.jsx)("button",{className:"m-2 p-2 w-16 text-center font-bold text-blue-400",onClick:()=>a({page:t.nextPage}),children:"Next"}):(0,s.jsx)(s.Fragment,{})]})}},5138:(e,t,a)=>{a.d(t,{A:()=>n});a(5043);var s=a(579);const n=function(e){return(0,s.jsx)("div",{className:"fixed top-0 left-0 z-[1055] flex h-full w-full place-items-center justify-center bg-black bg-opacity-20",children:(0,s.jsx)("div",{className:"bg-white rounded-3xl opacity-100 min-w-min h-1/4 flex justify-center items-center",children:(0,s.jsx)("div",{className:"text-4xl font-extrabold text-orange-400 m-20",children:"Loading....."})})})}},5670:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(5043),n=a(9900);const r=(e,t)=>e?parseInt(e):t,l=()=>{const e=(0,n.Zp)(),[t,a]=(0,s.useState)(!1),[l]=(0,n.ok)(),c=r(l.get("page"),1),i=r(l.get("size"),10),o=(0,n.PI)({page:c,size:i}).toString();return{moveToList:s=>{let l="";if(s){const e=r(s.page,1),t=r(s.size,10);l=(0,n.PI)({page:e,size:t}).toString()}else l=o;a(!t),e({pathname:"../list",search:l})},moveToModify:t=>{e({pathname:`../modify/${t}`,search:o})},moveToRead:t=>{e({pathname:`../read/${t}`,search:o})},page:c,size:i,refresh:t}}},9111:(e,t,a)=>{a.d(t,{HD:()=>c,UU:()=>o,oK:()=>i,vS:()=>l,yf:()=>r});var s=a(6213);const n=`${a(6907).i$}/api/products`,r=async e=>(await s.A.post(`${n}/`,e,{headers:{"Content-Type":"multipart/form-data"}})).data,l=async e=>{const{page:t,size:a}=e;return(await s.A.get(`${n}/list`,{params:{page:t,size:a}})).data},c=async e=>(await s.A.get(`${n}/${e}`)).data,i=async e=>(await s.A.delete(`${n}/${e}`)).data,o=async(e,t)=>(await s.A.put(`${n}/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}})).data}}]);
//# sourceMappingURL=393.d330ca18.chunk.js.map