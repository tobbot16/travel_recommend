"use strict";(self.webpackChunkmall=self.webpackChunkmall||[]).push([[781],{5138:(e,t,s)=>{s.d(t,{A:()=>l});s(5043);var a=s(579);const l=function(e){return(0,a.jsx)("div",{className:"fixed top-0 left-0 z-[1055] flex h-full w-full place-items-center justify-center bg-black bg-opacity-20",children:(0,a.jsx)("div",{className:"bg-white rounded-3xl opacity-100 min-w-min h-1/4 flex justify-center items-center",children:(0,a.jsx)("div",{className:"text-4xl font-extrabold text-orange-400 m-20",children:"Loading....."})})})}},5670:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(5043),l=s(9900);const r=(e,t)=>e?parseInt(e):t,d=()=>{const e=(0,l.Zp)(),[t,s]=(0,a.useState)(!1),[d]=(0,l.ok)(),i=r(d.get("page"),1),n=r(d.get("size"),10),c=(0,l.PI)({page:i,size:n}).toString();return{moveToList:a=>{let d="";if(a){const e=r(a.page,1),t=r(a.size,10);d=(0,l.PI)({page:e,size:t}).toString()}else d=c;s(!t),e({pathname:"../list",search:d})},moveToModify:t=>{e({pathname:`../modify/${t}`,search:c})},moveToRead:t=>{e({pathname:`../read/${t}`,search:c})},page:i,size:n,refresh:t}}},8781:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(5043),l=s(9900),r=s(9111),d=s(5138),i=s(6907),n=s(5670),c=s(4949),o=s(579);const m=i.i$,p={pno:0,pname:"",pdesc:"",price:0,delFlag:!1,uploadedFileNames:[]};const x=function(e){var t;let{pno:s}=e;const[l,i]=(0,a.useState)(p),[x,u]=(0,a.useState)(!1),f=(0,a.useRef)(),[h,b]=(0,a.useState)(!1),{moveToList:j,moveToRead:v}=(0,n.A)();(0,a.useEffect)((()=>{u(!0),(0,r.HD)(s).then((e=>{i(e),u(!1)}))}),[s]);const w=e=>{l[e.target.name]=e.target.value,i({...l})};return(0,o.jsxs)("div",{className:"border-2 border-sky-200 mt-10 m-2 p-4",children:[x?(0,o.jsx)(d.A,{}):(0,o.jsx)(o.Fragment,{}),h?(0,o.jsx)(c.A,{title:`${h}`,content:"\ucc98\ub9ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4",callbackFn:()=>{"Modified"===h?v(s):"Deleted"===h&&j({page:1}),b(null)}}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,o.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"Product Name"}),(0,o.jsx)("input",{className:"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md",name:"pname",type:"text",value:l.pname,onChange:w})]})}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,o.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"Desc"}),(0,o.jsx)("textarea",{className:"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md resize-y",name:"pdesc",rows:"4",onChange:w,value:l.pdesc,children:l.pdesc})]})}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,o.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"Price"}),(0,o.jsx)("input",{className:"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md",name:"price",type:"number",value:l.price,onChange:w})]})}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,o.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"DELETE"}),(0,o.jsxs)("select",{name:"delFlag",value:l.delFlag,onChange:w,className:"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md",children:[(0,o.jsx)("option",{value:!1,children:"\uc0ac\uc6a9"}),(0,o.jsx)("option",{value:!0,children:"\uc0ad\uc81c"})]})]})}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,o.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"Files"}),(0,o.jsx)("input",{ref:f,className:"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md",type:"file",multiple:!0})]})}),(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,o.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"Images"}),(0,o.jsx)("div",{className:"w-4/5 justify-center flex flex-wrap items-start",children:null===(t=l.uploadedFileNames)||void 0===t?void 0:t.map(((e,t)=>(0,o.jsxs)("div",{className:"flex justify-center flex-col w-1/3 m-1 align-baseline",children:[(0,o.jsx)("button",{className:"bg-blue-500 text-3xl text-white",onClick:()=>(e=>{const t=l.uploadedFileNames.filter((t=>t!==e));l.uploadedFileNames=t,i({...l})})(e),children:"DELETE"}),(0,o.jsx)("img",{alt:"img",src:`${m}/api/products/view/s_${e}`})]},t)))})]})}),(0,o.jsxs)("div",{className:"flex justify-end p-4",children:[(0,o.jsx)("button",{type:"button",className:"rounded p-4 m-2 text-xl w-32 text-white bg-red-500",onClick:()=>{u(!0),(0,r.oK)(s).then((e=>{b("Deleted"),u(!1)}))},children:"Delete"}),(0,o.jsx)("button",{type:"button",className:"inline-block rounded p-4 m-2 text-xl w-32 text-white bg-orange-500",onClick:()=>{const e=f.current.files,t=new FormData;for(let s=0;s<e.length;s++)t.append("files",e[s]);t.append("pname",l.pname),t.append("pdesc",l.pdesc),t.append("price",l.price),t.append("delFlag",l.delFlag);for(let s=0;s<l.uploadedFileNames.length;s++)t.append("uploadedFileNames",l.uploadedFileNames[s]);u(!0),(0,r.UU)(s,t).then((e=>{b("Modified"),u(!1)}))},children:"Modify"}),(0,o.jsx)("button",{type:"button",className:"rounded p-4 m-2 text-xl w-32 text-white bg-blue-500",onClick:()=>j(),children:"List"})]})]})};const u=function(e){const{pno:t}=(0,l.g)();return(0,o.jsxs)("div",{className:"p-4 w-full bg-white",children:[(0,o.jsx)("div",{className:"text-3xl font-extrabold",children:"Products Modify Page"}),(0,o.jsx)(x,{pno:t})]})}},9111:(e,t,s)=>{s.d(t,{HD:()=>i,UU:()=>c,oK:()=>n,vS:()=>d,yf:()=>r});var a=s(6213);const l=`${s(6907).i$}/api/products`,r=async e=>(await a.A.post(`${l}/`,e,{headers:{"Content-Type":"multipart/form-data"}})).data,d=async e=>{const{page:t,size:s}=e;return(await a.A.get(`${l}/list`,{params:{page:t,size:s}})).data},i=async e=>(await a.A.get(`${l}/${e}`)).data,n=async e=>(await a.A.delete(`${l}/${e}`)).data,c=async(e,t)=>(await a.A.put(`${l}/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}})).data}}]);
//# sourceMappingURL=781.2d2f6e8d.chunk.js.map