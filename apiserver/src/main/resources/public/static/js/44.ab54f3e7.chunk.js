"use strict";(self.webpackChunkmall=self.webpackChunkmall||[]).push([[44],{5138:(e,t,s)=>{s.d(t,{A:()=>r});s(5043);var a=s(579);const r=function(e){return(0,a.jsx)("div",{className:"fixed top-0 left-0 z-[1055] flex h-full w-full place-items-center justify-center bg-black bg-opacity-20",children:(0,a.jsx)("div",{className:"bg-white rounded-3xl opacity-100 min-w-min h-1/4 flex justify-center items-center",children:(0,a.jsx)("div",{className:"text-4xl font-extrabold text-orange-400 m-20",children:"Loading....."})})})}},5670:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(5043),r=s(9900);const l=(e,t)=>e?parseInt(e):t,n=()=>{const e=(0,r.Zp)(),[t,s]=(0,a.useState)(!1),[n]=(0,r.ok)(),d=l(n.get("page"),1),i=l(n.get("size"),10),c=(0,r.PI)({page:d,size:i}).toString();return{moveToList:a=>{let n="";if(a){const e=l(a.page,1),t=l(a.size,10);n=(0,r.PI)({page:e,size:t}).toString()}else n=c;s(!t),e({pathname:"../list",search:n})},moveToModify:t=>{e({pathname:`../modify/${t}`,search:c})},moveToRead:t=>{e({pathname:`../read/${t}`,search:c})},page:d,size:i,refresh:t}}},8044:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var a=s(5043),r=s(9111),l=s(5138),n=s(4949),d=s(5670),i=s(579);const c={pname:"",pdesc:"",price:0,files:[]};const o=function(e){const[t,s]=(0,a.useState)(c),o=(0,a.useRef)(),[p,m]=(0,a.useState)(!1),[u,x]=(0,a.useState)(!1),{moveToList:f}=(0,d.A)(),h=e=>{t[e.target.name]=e.target.value,s({...t})};return(0,i.jsxs)("div",{className:"border-2 border-sky-200 mt-10 m-2 p-4",children:[(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,i.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"Product Name"}),(0,i.jsx)("input",{className:"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md",name:"pname",type:"text",value:t.pname,onChange:h})]})}),(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,i.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"Desc"}),(0,i.jsx)("textarea",{className:"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md resize-y",name:"pdesc",rows:"4",value:t.pdesc,onChange:h})]})}),(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,i.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"Price"}),(0,i.jsx)("input",{className:"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md",name:"price",type:"number",value:t.price,onChange:h})]})}),(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsxs)("div",{className:"relative mb-4 flex w-full flex-wrap items-stretch",children:[(0,i.jsx)("div",{className:"w-1/5 p-6 text-right font-bold",children:"Files"}),(0,i.jsx)("input",{ref:o,className:"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md",type:"file",multiple:!0})]})}),(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsx)("div",{className:"relative mb-4 flex p-4 flex-wrap items-stretch",children:(0,i.jsx)("button",{type:"button",className:"rounded p-4 w-36 bg-blue-500 text-xl text-white",onClick:e=>{console.log(t);const s=o.current.files,a=new FormData;for(let t=0;t<s.length;t++)a.append("files",s[t]);a.append("pname",t.pname),a.append("pdesc",t.pdesc),a.append("price",t.price),console.log(a),m(!0),(0,r.yf)(a).then((e=>{m(!1),x(e.result)}))},children:"ADD"})})}),p?(0,i.jsx)(l.A,{}):(0,i.jsx)(i.Fragment,{}),u?(0,i.jsx)(n.A,{callbackFn:()=>{x(null),f({page:1})},title:"Product Add Result",content:`${u}\ubc88 \uc0c1\ud488 \ub4f1\ub85d \uc644\ub8cc`}):(0,i.jsx)(i.Fragment,{})]})};const p=function(e){return(0,i.jsxs)("div",{className:"p-4 w-full bg-white",children:[(0,i.jsx)("div",{className:"text-3xl font-extrabold",children:"Products Add Page"}),(0,i.jsx)(o,{})]})}},9111:(e,t,s)=>{s.d(t,{HD:()=>d,UU:()=>c,oK:()=>i,vS:()=>n,yf:()=>l});var a=s(6213);const r=`${s(6907).i$}/api/products`,l=async e=>(await a.A.post(`${r}/`,e,{headers:{"Content-Type":"multipart/form-data"}})).data,n=async e=>{const{page:t,size:s}=e;return(await a.A.get(`${r}/list`,{params:{page:t,size:s}})).data},d=async e=>(await a.A.get(`${r}/${e}`)).data,i=async e=>(await a.A.delete(`${r}/${e}`)).data,c=async(e,t)=>(await a.A.put(`${r}/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}})).data}}]);
//# sourceMappingURL=44.ab54f3e7.chunk.js.map