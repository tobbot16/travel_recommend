{"version":3,"file":"static/js/44.ab54f3e7.chunk.js","mappings":"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","sources":["components/common/FetchingModal.js","hooks/useCustomMove.js","components/products/AddComponent.js","pages/products/AddPage.js","api/productsAPI.js"],"sourcesContent":["import React from 'react';\r\n\r\nfunction FetchingModal(props) {\r\n    return (\r\n        <div\r\n        className={`fixed top-0 left-0 z-[1055] flex h-full w-full place-items-center justify-center bg-black bg-opacity-20`}\r\n        >\r\n        <div\r\n            className=\"bg-white rounded-3xl opacity-100 min-w-min h-1/4 flex justify-center items-center\"\r\n        >\r\n            <div className=\"text-4xl font-extrabold text-orange-400 m-20\">\r\n            Loading.....\r\n            </div>\r\n        </div>\r\n        </div>\r\n\r\n\r\n\r\n    );\r\n}\r\n\r\nexport default FetchingModal;","import { useState } from \"react\"\r\nimport { createSearchParams, useNavigate, useSearchParams } from \"react-router-dom\"\r\n\r\nconst getNum = (param, defaultValue) => {\r\n\r\n    if(!param){\r\n        return defaultValue\r\n    }\r\n\r\n    return parseInt(param)\r\n\r\n}\r\n\r\n\r\n\r\nconst useCustomMove = () => {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const [refresh, setRefresh] = useState(false)\r\n\r\n    const [queryParams] = useSearchParams()\r\n\r\n    const page = getNum(queryParams.get('page'), 1)\r\n    const size = getNum(queryParams.get('size'), 10)\r\n    \r\n    //page=3&size=10\r\n    const queryDefault = createSearchParams({page,size}).toString()\r\n\r\n    const moveToList = (pageParam) => {\r\n\r\n        let queryStr = \"\"\r\n        if(pageParam){\r\n            const pageNum = getNum(pageParam.page, 1)\r\n            const sizeNum = getNum(pageParam.size, 10)\r\n\r\n            queryStr = createSearchParams({page:pageNum, size:sizeNum}).toString()\r\n\r\n        }else{\r\n            queryStr = queryDefault\r\n        }\r\n        setRefresh(!refresh)\r\n        navigate({pathname:`../list`, search:queryStr})\r\n\r\n    }\r\n\r\n    const moveToModify = (tno) => {\r\n        navigate({\r\n            pathname:`../modify/${tno}`,\r\n            search:queryDefault\r\n        })\r\n    }\r\n\r\n    const moveToRead = (tno) => {\r\n        navigate({\r\n            pathname:`../read/${tno}`,\r\n            search:queryDefault\r\n        })\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    return {moveToList, moveToModify, moveToRead, page, size, refresh}\r\n\r\n}\r\n\r\n\r\nexport default useCustomMove","import React, { useRef, useState } from 'react';\r\nimport { postAdd } from '../../api/productsAPI';\r\nimport FetchingModal from '../common/FetchingModal';\r\nimport ResultModal from '../common/ResultModal';\r\nimport useCustomMove from '../../hooks/useCustomMove';\r\n\r\nconst initstate = {\r\n\r\n    pname:'',\r\n    pdesc:'',\r\n    price:0,\r\n    files: []\r\n\r\n}\r\n\r\n\r\nfunction AddComponent(props) {\r\n\r\n    const [product, setProduct] = useState(initstate)\r\n\r\n    const uploadRef = useRef()\r\n\r\n    const [fetching, setFetching] = useState(false)\r\n\r\n    const [result, setResult] = useState(false)\r\n\r\n    const {moveToList} = useCustomMove()\r\n\r\n    //변경\r\n    const handleChangeProduct = (e) => {\r\n        product[e.target.name] = e.target.value;\r\n        setProduct({...product})\r\n    }\r\n\r\n    \r\n\r\n    const handleClickAdd = (e) => {\r\n        console.log(product)\r\n\r\n        const files = uploadRef.current.files\r\n        const formData = new FormData()\r\n\r\n        \r\n        for(let i = 0; i < files.length; i++){\r\n            formData.append(\"files\", files[i])\r\n        }\r\n\r\n        formData.append(\"pname\", product.pname)\r\n        formData.append(\"pdesc\", product.pdesc)\r\n        formData.append(\"price\", product.price)\r\n\r\n        console.log(formData)\r\n\r\n        setFetching(true)\r\n\r\n        postAdd(formData).then(data => {\r\n\r\n            setFetching(false)\r\n            setResult(data.result)\r\n        })\r\n\r\n\r\n    }\r\n\r\n    const closeModal = () => {\r\n        setResult(null)\r\n        moveToList({page:1})\r\n    }\r\n\r\n    return (\r\n<div className=\"border-2 border-sky-200 mt-10 m-2 p-4\">\r\n  {/* Product Name */}\r\n  <div className=\"flex justify-center\">\r\n    <div className=\"relative mb-4 flex w-full flex-wrap items-stretch\">\r\n      <div className=\"w-1/5 p-6 text-right font-bold\">Product Name</div>\r\n      <input\r\n        className=\"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md\"\r\n        name=\"pname\"\r\n        type=\"text\"\r\n        value={product.pname}\r\n        onChange={handleChangeProduct}\r\n      />\r\n    </div>\r\n  </div>\r\n\r\n  {/* Description */}\r\n  <div className=\"flex justify-center\">\r\n    <div className=\"relative mb-4 flex w-full flex-wrap items-stretch\">\r\n      <div className=\"w-1/5 p-6 text-right font-bold\">Desc</div>\r\n      <textarea\r\n        className=\"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md resize-y\"\r\n        name=\"pdesc\"\r\n        rows=\"4\"\r\n        value={product.pdesc}\r\n        onChange={handleChangeProduct}\r\n      />\r\n    </div>\r\n  </div>\r\n\r\n  {/* Price */}\r\n  <div className=\"flex justify-center\">\r\n    <div className=\"relative mb-4 flex w-full flex-wrap items-stretch\">\r\n      <div className=\"w-1/5 p-6 text-right font-bold\">Price</div>\r\n      <input\r\n        className=\"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md\"\r\n        name=\"price\"\r\n        type=\"number\"\r\n        value={product.price}\r\n        onChange={handleChangeProduct}\r\n      />\r\n    </div>\r\n  </div>\r\n\r\n  {/* File Upload */}\r\n  <div className=\"flex justify-center\">\r\n    <div className=\"relative mb-4 flex w-full flex-wrap items-stretch\">\r\n      <div className=\"w-1/5 p-6 text-right font-bold\">Files</div>\r\n      <input\r\n        ref={uploadRef}\r\n        className=\"w-4/5 p-6 rounded-r border border-solid border-neutral-300 shadow-md\"\r\n        type=\"file\"\r\n        multiple={true}\r\n      />\r\n    </div>\r\n  </div>\r\n\r\n  {/* Submit Button */}\r\n  <div className=\"flex justify-end\">\r\n    <div className=\"relative mb-4 flex p-4 flex-wrap items-stretch\">\r\n      <button\r\n        type=\"button\"\r\n        className=\"rounded p-4 w-36 bg-blue-500 text-xl text-white\"\r\n        onClick={handleClickAdd}\r\n      >\r\n        ADD\r\n      </button>\r\n    </div>\r\n  </div>\r\n  {fetching ? <FetchingModal/> : <></>}\r\n  {result ? \r\n  <ResultModal\r\n    callbackFn={closeModal}\r\n    title={'Product Add Result'}\r\n    content = {`${result}번 상품 등록 완료`}/>\r\n    : <></>}\r\n</div>\r\n\r\n\r\n\r\n\r\n    );\r\n}\r\n\r\nexport default AddComponent;\r\n","import React from 'react';\r\nimport AddComponent from '../../components/products/AddComponent';\r\n\r\nfunction AddPage(props) {\r\n    return (\r\n        <div className='p-4 w-full bg-white'>\r\n            <div className='text-3xl font-extrabold'>\r\n                Products Add Page \r\n            </div>\r\n            \r\n            <AddComponent/>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddPage;","import axios from \"axios\";\r\nimport { API_SERVER_HOST } from \"./todoAPI\";\r\n\r\n\r\nconst host = `${API_SERVER_HOST}/api/products`\r\n\r\nexport const postAdd = async (product) => {\r\n\r\n    const header = {headers: {'Content-Type':'multipart/form-data'}}\r\n    const res = await axios.post(`${host}/`, product, header)\r\n\r\n    return res.data\r\n\r\n}\r\n\r\nexport const getList = async(pageParam) => {\r\n\r\n    const {page, size} = pageParam\r\n    const res = await axios.get(`${host}/list`, {params: {page:page, size:size}})\r\n\r\n    return res.data\r\n}\r\n\r\nexport const getOne = async(pno) => {\r\n\r\n    const res = await axios.get(`${host}/${pno}`)\r\n    return res.data\r\n\r\n}\r\n\r\nexport const deleteOne = async(pno) => {\r\n    const res = await axios.delete(`${host}/${pno}`)\r\n    return res.data\r\n}\r\n\r\nexport const putOne = async(pno, product) => {\r\n    const header = {headers: {'Content-Type':'multipart/form-data'}}\r\n    const res = await axios.put(`${host}/${pno}`, product, header)\r\n    return res.data\r\n\r\n}\r\n"],"names":["props","_jsx","className","children","getNum","param","defaultValue","parseInt","useCustomMove","navigate","useNavigate","refresh","setRefresh","useState","queryParams","useSearchParams","page","get","size","queryDefault","createSearchParams","toString","moveToList","pageParam","queryStr","pageNum","sizeNum","pathname","search","moveToModify","tno","moveToRead","initstate","pname","pdesc","price","files","product","setProduct","uploadRef","useRef","fetching","setFetching","result","setResult","handleChangeProduct","e","target","name","value","_jsxs","type","onChange","rows","ref","multiple","onClick","console","log","current","formData","FormData","i","length","append","postAdd","then","data","FetchingModal","_Fragment","ResultModal","callbackFn","closeModal","title","content","AddComponent","host","API_SERVER_HOST","async","axios","post","headers","getList","params","getOne","pno","deleteOne","delete","putOne","put"],"sourceRoot":""}